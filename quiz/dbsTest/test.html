<!DOCTYPE HTML>

<html>
	<head>
		<title>Í∞úÏßúÏÇ∞ ÌÖåÏä§Ìä∏ | Ìà¨ÏÅ†</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
		<meta name="title" content="Í∞úÏßúÏÇ∞ ÌÖåÏä§Ìä∏ | Ìà¨ÏÅ†">
		<meta name="subject" content="Í∞úÏßúÏÇ∞ ÌÖåÏä§Ìä∏, Ï∑®Ìñ• Î©îÏù¥Ìä∏ Ï∞æÍ∏∞">
		<meta name="keywords" content="Í∞úÏßúÏÇ∞, Í∞úÏßúÎ∞î, Í∞úÏß¨ÏÇ∞, Í∞úÏß¨Î∞î, Í≥†ÏßúÏÇ∞, Í≥†ÏßúÎ∞î, Í≥†Ïß¨ÏÇ∞, Í≥†Ïß¨Î∞î">
		<meta name="author" content="Ìà¨ÏÅ†">
		<meta name="description" content="Í∞úÏßúÏÇ∞ ÌÖåÏä§Ìä∏Î•º ÎÇòÏôÄ Ï∑®Ìñ•Ïù¥ Í∞ôÏùÄ ÏπúÍµ¨Î•º Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî! ÏπúÍµ¨Îì§ÏóêÍ≤å Í≥µÏú†Îäî ÌïÑÏàò">
		
		<!-- sns share img -->
		<meta property="og:title" content="[Í∞úÏßúÏÇ∞ ÌÖåÏä§Ìä∏] Ï∑®Ìñ• Î©îÏù¥Ìä∏ Ï∞æÍ∏∞" />
		<meta property="og:url" content="https://www.twoppl.com/quiz/gzsTest/intro" />
		<meta property="og:image" content="" />
		
		<!-- ÌååÎπÑÏΩò --> 
		<link rel="shortcut icon" href="https://jerrymaster.speedgabia.com/favicon30.png" type="image/x-icon">
		<link rel="icon" href="https://jerrymaster.speedgabia.com/favicon30.png" type="image/x-icon">
		
		<!-- Twoppl Style -->		
		<link rel="stylesheet" href="../../assets/css/main.css" />
		
		<!-- Styles -->
		<link href="dbs.css" rel="stylesheet">		
		
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-174229344-1"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());
		  gtag('config', 'UA-174229344-1');
		</script>
		
		<style>
			@media only screen and (min-width:840px){
				.mbti-answer:hover {
					background: #F06F0A; 
					color: white;
				}
			}

		</style>

	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
				<div class="mbti-container" style="text-align:center">
					
					<div class="mbti-questionNo">Q1.</div>

					<div id="progressBar">
						<div></div>
					</div>
					
					<div class="mbti-question2" style="width: 300px">Í∞ú vs Í≥†ÏñëÏù¥</div>
					
					<div class="mbti-result-match">
						<img class="mbti-answer a1" style="float:left;" src="https://jerrymaster.speedgabia.com/dzsTest/dog.png"/>
						<img class="mbti-answer a2" style="float:right;" src="https://jerrymaster.speedgabia.com/dzsTest/cat.png"/>
					
					</div>
					
					<div class="pagi">
						<div class="page">
							1/3
						</div>		
						<div class="pb">
							<div class="progress-inner"></div>
						</div>
					</div>

				</div>
				
			</div>
		
				

		<!-- Scripts -->
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
			<script src="../../assets/js/jquery.min.js"></script>
			<script>
				$('.mbti-container').css('display', 'none');``
				$('.mbti-container').fadeIn(600);
			</script>
		
		
			<!--img preload-->
			<script>
				var preload = function(sources) {
					var images = [];
					var length = sources.length;
					for(var i = 0;  i < length; i++) {
					images[i] = new Image();
					images[i].src = sources[i];
					}
				}
				preload(['https://jerrymaster.speedgabia.com/dzsTest/dog.png', 
						'https://jerrymaster.speedgabia.com/dzsTest/cat.png',
						'https://jerrymaster.speedgabia.com/dzsTest/jajang.png', 
						'https://jerrymaster.speedgabia.com/dzsTest/jambong.png', 
						'https://jerrymaster.speedgabia.com/dzsTest/mountain.png', 
						'https://jerrymaster.speedgabia.com/dzsTest/sea.png', 
				]);
			
			</script>
			
			<script>
					
				let progressBar = $(".progress-inner");
				progressBar.css("width", `${100/3}%`);

				let questions = [			
					//Q1
					{"q1": "Í∞ú vs Í≥†ÏñëÏù¥",
					 "a1": "https://jerrymaster.speedgabia.com/dzsTest/dog.png", 
					 "a2": "https://jerrymaster.speedgabia.com/dzsTest/cat.png",
					 "a1_mbti": "D", "a2_mbti": "C"},
					//Q2
					{"q1": "ÏßúÏû•Î©¥ vs Ïß¨ÎΩï",
					 "a1": "https://jerrymaster.speedgabia.com/dzsTest/jajang.png", 
					 "a2": "https://jerrymaster.speedgabia.com/dzsTest/jambong.png",
					 "a1_mbti": "B", "a2_mbti": "R"},
					//Q3	
					{"q1": "ÏÇ∞ vs Î∞îÎã§",
					 "a1": "https://jerrymaster.speedgabia.com/dzsTest/mountain.png", 
					 "a2": "https://jerrymaster.speedgabia.com/dzsTest/sea.png", 
					 "a1_mbti": "M", "a2_mbti": "S"}		
				];

				let result = {};
				let questionProgress = 1;

				function get_result(){
							
					let character;
					function filterItems(arr) {
							return Object.keys(arr).filter(el => arr[el] >= 1);
					}
					character = filterItems(result).join("");
					console.log(character);
					
					/*Í∞úÏßúÏÇ∞ : DBM	Í∞úÏß¨ÏÇ∞ : DRM 
					  Í≥†ÏßúÏÇ∞ : CBM	Í≥†Ïß¨ÏÇ∞ : CRM
					  Í∞úÏßúÎ∞î : DBS	Í∞úÏß¨Î∞î : DRS 
					  Í≥†ÏßúÎ∞î : CBS	Í≥†Ïß¨Î∞î : CRS*/

					// ÏµúÏ¢Ö Í≥ÑÏÇ∞
					location.href = 'loading.html?'+character;

					return;
				}
				
				function shape_progress( ){
					questionProgress += 1;
					if(questionProgress == 4){
						get_result();
						return;
					}
					$('.mbti-question2').css('display', 'none').fadeIn(400);
					$('.mbti-answer').css('display', 'none').fadeIn(400);
					
					q = questions[questionProgress-1];
					progressBar.css("width", `${100/3*questionProgress}%`);
					
					$(".page").text(`${questionProgress}/3`);
					$(".mbti-questionNo").text(`Q${questionProgress}.`);
					$(".mbti-question2").text(`${q["q1"]}`);
					$(".a1").attr("src", `${q["a1"]}`);
					$(".a2").attr("src", `${q["a2"]}`);	

				}
				
				$(".mbti-answer").on("click", function() {
					let q = questions[questionProgress-1];
						
						if ($(this).hasClass("a1")) 
						{
							if (q["a1_mbti"] in result) { 
								result[q["a1_mbti"]] += 1;
							} else {
								result[q["a1_mbti"]] = 1; 
							}
						} else { 
							if (q["a2_mbti"] in result) { 
								result[q["a2_mbti"]] += 1;
							} else {
								result[q["a2_mbti"]] = 1;
							}
						}	

						shape_progress( );	

				});
				
				
				
			</script>
		
			<script>
				$(document).ready(function() {    
				function progress(timeleft, timetotal, $element) {

					var progressBarWidth = (timeleft / timetotal) * $element.width();

					$element.find('div').animate(
						{ width: progressBarWidth }, 
						timeleft == timetotal ? 0 : 1000, 
						'linear'

					).html("üïë");

					if(timeleft > 0) {
						setTimeout(function() {
							progress(timeleft - 1, timetotal, $element);
						}, 1000);
						
						console.log(timeleft);
					}else if(timeleft == 0){
						
						setTimeout(function() {
							alert("ÏûΩÏã∏Í≤å ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî!");
							location.href = 'test.html';
						}, 1000);
						
					}
					
				};

				progress(6, 6, $('#progressBar'));
				});
				
			</script>


	</body>
</html>