<!DOCTYPE HTML>

<html>
	<head>
		<title>경상디언 테스트 | 투쁠</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
		<meta name="title" content="경상디언 테스트 | 투쁠">
		<meta name="subject" content="나는 경상도 사투리를 얼마나 잘 알고 있을까?">
		<meta name="keywords" content="경상디언 테스트, 찐 경상도인, 경상도 사투리, 사투리 테스트, 경상도 사투리 테스트?">
		<meta name="author" content="투쁠">
		<meta name="description" content="경상도 사투리로 찐 경상도인을 찾아라">
		
		<!-- sns share img -->
		<meta property="og:title" content="[경상디언 테스트] 경상도 사투리로 알아보는 찐 경상디언 테스트" />
		<meta property="og:url" content="https://www.twoppl.com/quiz/gyunsangdianTest/intro" />
		<meta property="og:image" content="https://jerrymaster.speedgabia.com/gsdianTest/gsdianTest_main.png" />

		<!-- 파비콘 --> 
		<link rel="shortcut icon" href="../../images/favicon.ico" type="image/x-icon">
		<link rel="icon" href="../../images/favicon.ico" type="image/x-icon">
		
		<!-- Styles -->
		<link rel="stylesheet" href="../../assets/css/main.css" />
		<link href="gsdian.css" rel="stylesheet">
		
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-174229344-1"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());
		  gtag('config', 'UA-174229344-1');
		</script>
		
		<style>
			@media only screen and (min-width:840px){
				.mbti-answer:hover {
					background: black; 
					color: white;
				}
			}

		</style>

	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
				<div class="mbti-container" style="text-align:center">
					
					<div class="mbti-questionNo">Q1.</div>
					<img class="mbti-question2 result-img" style="width: 320px" src="https://jerrymaster.speedgabia.com/gsdianTest/q1.png"/>
					
					<div class="mbti-answer a1">그 애가 그 애니?</div>
					<div class="mbti-answer a2">그 애가 '가' 씨니?</div>
					<div class="mbti-answer a3">가서 가져갈래?</div>
					<div class="mbti-answer a4">도저히 모르겠다...</div>

					<div class="pagi">
						<div class="page">
							1/5
						</div>		
						<div class="pb">
							<div class="progress-inner"></div>
						</div>
					</div>

				</div>
				
			</div>
				

		<!-- Scripts -->
			<script src="../../assets/js/jquery.min.js"></script>
			<script>
				//$('.mbti-container').css('display', 'none');
				//$('.mbti-container').fadeIn(600);
				
			</script>
		
			<script>
			var preload = function(sources) {
				var images = [];
				var length = sources.length;
				for(var i = 0;  i < length; i++) {
				images[i] = new Image();
				images[i].src = sources[i];
				}
			}

           preload([
			   'https://jerrymaster.speedgabia.com/gsdianTest/q1.png',
			   'https://jerrymaster.speedgabia.com/gsdianTest/q2.png',
			   'https://jerrymaster.speedgabia.com/gsdianTest/q3.png',
			   'https://jerrymaster.speedgabia.com/gsdianTest/q4.png',
			   'https://jerrymaster.speedgabia.com/gsdianTest/q5.png',
			]);
			
			</script>
			
			<script>
				let progressBar = $(".progress-inner");
				progressBar.css("width", `${100/5}%`);

				
				let questions = [
					
					//Q1 
					{"qn": "Q1.",
					 "q1": "https://jerrymaster.speedgabia.com/gsdianTest/q1.png",
					 "a1": "그 애가 그 애니?", "a2": "그 애가 '가' 씨니?", "a3": "가서 가져갈래?", "a4": "도저히 모르겠다...", 
					 "a1_mbti": "A", "a2_mbti": "N", "a3_mbti": "N", "a4_mbti": "N"},
					
					//Q2
					{"qn": "Q2.",
					 "q1": "https://jerrymaster.speedgabia.com/gsdianTest/q2.png",
					 "a1": "가서 가져갈까?", "a2": "그 애가 '가' 씨니?", "a3": "그 애가 가져가서?", "a4": "그냥 찍을래...", 
					 "a1_mbti": "N", "a2_mbti": "A", "a3_mbti": "N", "a4_mbti": "N"},
					
					//Q3
					{"qn": "Q3.",
					 "q1": "https://jerrymaster.speedgabia.com/gsdianTest/q3.png",
					 "a1": "거기 가서 가져가", "a2": "그 녀석이 그 애가 맞아", "a3": "'가' 씨가 가서", "a4": "이걸 알아들어...?", 
					 "a1_mbti": "N", "a2_mbti": "N", "a3_mbti": "A", "a4_mbti": "N"},
					
					//Q4
					{"qn": "Q4.",
					 "q1": "https://jerrymaster.speedgabia.com/gsdianTest/q4.png",
					 "a1": "그 애가 가져 간 다음에", "a2": "그 애가 '가' 씨이니", "a3": "가서 가져가", "a4": "무슨말이야 도대체...", 
					 "a1_mbti": "A", "a2_mbti": "N", "a3_mbti": "N", "a4_mbti": "N"},
					
					//Q5	
					{"qn": "Q5.",
					 "q1": "https://jerrymaster.speedgabia.com/gsdianTest/q5.png",
					 "a1": "가라! 그 애가, 갔기때문에!", "a2": "가라! 가서, 가져가렴!", "a3": "그 애! 그 애가, 그 애잖아! ", "a4": "하...ㅠ", 
					 "a1_mbti": "N", "a2_mbti": "A", "a3_mbti": "N", "a4_mbti": "N"},
						
				];

				let result = {};
				let questionProgress = 1;

				function get_result(){
							
					let temp;
					let answer = 0;
					
					if(result['N'] == 5){
						answer = 0;	
					}else{
						answer = result['A'];
					}
					
					console.log(answer);
					
					// 최종 계산
					location.href = 'loading.html?'+answer;

					return;
				}
				
				
				function shape_progress( ){
					//console.log(questionProgress);

					questionProgress += 1;
					if(questionProgress == 6){
						get_result();
						return;
					}
					
					//$('.mbti-answer').css('display', 'none');
					//$('.mbti-answer').fadeIn(400);
					
					q = questions[questionProgress-1];
					progressBar.css("width", `${100/5*questionProgress}%`);
					$(".page").text(`${questionProgress}/5`);

					$(".mbti-questionNo").text(`${q["qn"]}`);
					$(".mbti-question2").attr("src", `${q["q1"]}`);
					$(".a1").text(`${q["a1"]}`);
					$(".a2").text(`${q["a2"]}`);
					$(".a3").text(`${q["a3"]}`);
					$(".a4").text(`${q["a4"]}`);
					
				}
				

				$(".mbti-answer").on("click", function() {
					let q = questions[questionProgress-1];
						
						if ($(this).hasClass("a1")) 
						{
							if (q["a1_mbti"] in result) { 
								result[q["a1_mbti"]] += 1;
							} else {
								result[q["a1_mbti"]] = 1; 
							}
							
						} else if ($(this).hasClass("a2")){ 
							if (q["a2_mbti"] in result) { 
								result[q["a2_mbti"]] += 1;
							} else {
								result[q["a2_mbti"]] = 1;
							}
							
						} else if ($(this).hasClass("a3")){ 
							if (q["a3_mbti"] in result) { 
								result[q["a3_mbti"]] += 1;
							} else {
								result[q["a3_mbti"]] = 1;
							}
							
						}else if ($(this).hasClass("a4")){ 
							if (q["a4_mbti"] in result) { 
								result[q["a4_mbti"]] += 1;
							} else {
								result[q["a4_mbti"]] = 1;
							}
						}
					
						console.log(result);
						shape_progress( );						

				});
			</script>


	</body>
</html>