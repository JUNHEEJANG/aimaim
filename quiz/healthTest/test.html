<!DOCTYPE HTML>

<html>
	<head>
		<title>헬창 유형 테스트 | 투쁠</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
		<meta name="title" content="헬창 유형 테스트 | 투쁠">
		<meta name="subject" content="회원님? 인바디 한번 하고 가실게요">
		<meta name="keywords" content="헬창 테스트, 인바디 테스트, 멸치 테스트, 운동 능력 테스트, 헬창 능력치 테스트, MBTI, MBTI 헬창 테스트">
		<meta name="author" content="투쁠">
		<meta name="description" content="헬창 능력치 테스트를 통해 나와 내 친구와 맞는 운동 캐릭터를 알아보세요!">
		
		<!-- sns share img -->
		<meta property="og:image" content="" />

		
		<!-- 파비콘 --> 
		<link rel="shortcut icon" href="../../images/favicon.ico" type="image/x-icon">
		<link rel="icon" href="../../images/favicon.ico" type="image/x-icon">
		
		
		<!-- Twoppl Style -->		
		<link rel="stylesheet" href="../../assets/css/main.css" />
	
		
		<!-- Styles -->
		<!--link href="../../assets/css/app.css" rel="stylesheet"-->
		<link href="../../assets/css/mbti.css" rel="stylesheet">
		
		
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-174229344-1"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());
		  gtag('config', 'UA-174229344-1');
		</script>

	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
				<div class="mbti-container" style="text-align:center">
					
					<div class="mbti-questionNo">Q1.</div>
					<div class="mbti-question">당신의 키는?</div>
					<div class="mbti-question2"></div>
					<div class="mbti-answer a1">~168cm</div>
					<div class="mbti-answer a2">169~173cm</div>
					<div class="mbti-answer a3">174~177cm</div>
					<div class="mbti-answer a4">178cm~</div>
					<div class="mbti-answer a5" style="display:none"></div>
					
					<div class="pagi">
						<div class="page">
							1/15
						</div>		
						<div class="pb">
							<div class="progress-inner"></div>
						</div>
					</div>

				</div>
				
			</div>
				

		<!-- Scripts -->
			<script src="../../assets/js/jquery.min.js"></script>
			<!--script src="../../assets/js/browser.min.js"></script-->
			<!--script src="../../assets/js/breakpoints.min.js"></script-->
			<!--script src="../../assets/js/util.js"></script-->
			<!--script src="../../assets/js/main.js"></script-->
			<script>
				$('.mbti-container').css('display', 'none');
				$('.mbti-container').fadeIn(600);
				
				
				/*$('.mbti-answer').bind('touchstart', function(){
					$(this).css("background", "#FE2E64");
					$(this).css("color", "white");
				});
				
				$('.mbti-answer').bind('touchend', function(){
					$(this).css("background","#F7F5F5")
					$(this).css("color", "black");
				});*/
				//https://www.it-swarm.dev/ko/javascript/%EB%AA%A8%EB%B0%94%EC%9D%BC-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80%EC%97%90%EC%84%9C-%ED%98%B8%EB%B2%84-%ED%9A%A8%EA%B3%BC-%EB%B9%84%ED%99%9C%EC%84%B1%ED%99%94/941484081/
				
			</script>
							
		
			<script>
				let progressBar = $(".progress-inner");
				progressBar.css("width", `${100/15}%`);

				let questions = [
					{"q1": "당신의 키는?", 
					 "a1": "~168cm", "a2": "169~173cm", "a3": "174~177cm", "a4" : "178cm~",
					 "aw1": "1", "aw2": "2", "aw3": "3", "aw4": "4"},
						
					{"q1": "당신의 몸무게는?", 
					 "a1": "~55kg", "a2": "56~72kg", "a3": "73~86kg", "a4" : "87kg~",
					 "aw1": "S", "aw2": "N", "aw3": "N", "aw4": "F"},


					{"q1": "벤치프레스 1회 최대 무게는?", 
					 "a1": "~40kg", "a2": "40~60kg", "a3": "60~100kg", "a4" : "100kg~", "a5" : "잘 모르겠다",
					 "aw1": 30, "aw2": 50, "aw3": 80, "aw4": 120, "aw5": 50},
						
					{"q1": "데드리프트 1회 최대 무게는?", 
					 "a1": "~60kg", "a2": "60~90kg", "a3": "90~130kg", "a4" : "130kg~", "a5" : "잘 모르겠다",
					 "aw1": 40, "aw2": 75, "aw3": 110, "aw4": 150, "aw5": 75},
						
					{"q1": "스쿼트 1회 최대 무게는?", 
					 "a1": "~60kg", "a2": "60~90kg", "a3": "90~130kg", "a4" : "130kg~", "a5" : "잘 모르겠다",
					 "aw1": 40, "aw2": 75, "aw3": 110, "aw4": 150, "aw5": 75},
						

							
					{"q1": "일주일에 헬스장", "q2": "가는 횟수는?",
					 "a1": "주 0~3회", "a2": "주 4회 이상", 
					 "a1_mbti": "N", "a2_mbti": "E"},
						
					{"q1": "집에 있는", "q2": "홈트레이닝 기구는 주로",
					 "a1": "아령, 턱걸이, 바벨, 푸쉬업바", "a2": "줄넘기, 악력기, 훌라우프", 
					 "a1_mbti": "E", "a2_mbti": "N"},
						
					{"q1": "친구야,", "q2": "오랜만인데 한잔하자!",
					 "a1": "그래 오늘 한잔 꺽자", "a2": "꺼져라 내친구는 아령이다", 
					 "a1_mbti": "N", "a2_mbti": "E"},
						
					{"q1": "아놀드가 헬스장에 왔다", "q2": "PT가 회당 15만원이다",
					 "a1": "15만원은 너무 비싸다", "a2": "인생 근성장 기회다", 
					 "a1_mbti": "N", "a2_mbti": "E"},	
					
					{"q1": "오빠.. 미안한데", "q2": "오늘 운동 안가면 안될까?",
					 "a1": "남자가 쇠질하러 가는데 어디", "a2": "그래~ 운동이야 다음에 하면 돼", 
					 "a1_mbti": "E", "a2_mbti": "N"},
						
					
						
					{"q1": "회원님? 등운동 하실때는", "q2": "후인하강부터 하셔야죠",
					 "a1": "아 맞아~ 후인하강!", "a2": "응?.. 후인하강?", 
					 "a1_mbti": "C", "a2_mbti": "S"},
						
					{"q1": "지금 집 냉장고를 열어봐라", "q2": "냉동실에 닭가슴살이",
					 "a1": "없다", "a2": "있다", 
					 "a1_mbti": "S", "a2_mbti": "C"},
						
					{"q1": "박재범의 슬림 탄탄 근육", "q2": "6개월이면 만든다?",
					 "a1": "아니다 더 걸린다", "a2": "6개월이면 만들지", 
					 "a1_mbti": "S", "a2_mbti": "C"},
						
					{"q1": "유튜브에서 구독하고 있는", "q2": "운동 유튜버가 있다",
					 "a1": "있다", "a2": "없다", 
					 "a1_mbti": "C", "a2_mbti": "S"},
						
					{"q1": "나의 어깨 근육은 크게", "q2": "몇부분으로 되어있을까?",
					 "a1": "5부분", "a2": "3부분", 
					 "a1_mbti": "S", "a2_mbti": "C"},						
				];

				let height;
				let weight = {};
				let muscle = 0;
				let result = {};
				let questionProgress = 1;

				
				function get_result(){
					
					let newMuscle;
					let bmi;
					let character;
					
					// mbti 계산
					function filterItems(arr) { // 배열내 값이 3 이상인 것 만 필터링
						return Object.keys(arr).filter(el => arr[el] >= 3);
					}
					let mbti = filterItems(result).join("");
					let newMbti;

					if(mbti == "EC" || mbti == "CE" ){ newMbti = "EC"; }
					else if(mbti == "ES" || mbti == "SE" ){ newMbti = "ES"; }
					else if(mbti == "NC" || mbti == "CN" ){ newMbti = "NC"; }
					else if(mbti == "NS" || mbti == "SN" ){ newMbti = "NS"; }
					//console.log("mbti : " + mbti)
					
					// BMI 계산 weight, muscle 로 계산
					//console.log("muscle : " + muscle);
					if(muscle < 170){ newMuscle = "A"; }
					else if(170 <= muscle && muscle < 260){	newMuscle = "B"; }
					else if(260 <= muscle && muscle < 360){	newMuscle = "C"; }
					else{ newMuscle = "D"; }
					//console.log("newMuscle : " + newMuscle);
					
					
					//console.log("weight : " + weight);
					if(weight == "skinny"){
						switch( newMuscle ){
							case 'A': bmi = 'M'; break;
							case 'B': bmi = 'L'; break;
							case 'C': bmi = 'H'; break;
							case 'D': bmi = 'H'; break;
						}
						
					}else if(weight == "normal"){
						switch( newMuscle ){
							case 'A': bmi = 'M'; break;
							case 'B': bmi = 'L'; break;
							case 'C': bmi = 'L'; break;
							case 'D': bmi = 'H'; break;
						}
					}else{
						switch( newMuscle ){
							case 'A': bmi = 'P'; break;
							case 'B': bmi = 'P'; break;
							case 'C': bmi = 'L'; break;
							case 'D': bmi = 'H'; break;
						}
					}
						
					//console.log("after bmi : "  + bmi);
					
					// 최종 케릭터 결정
					character = bmi+mbti;
					//console.log("fianl character : " + character);
					
					
					location.href = 'loading.html?'+character;


					return;
				}
				
				
				function shape_progress( ){
					//console.log(questionProgress);

					questionProgress += 1;
					if(questionProgress == 16){
						get_result();
						return;
					}
					
					q = questions[questionProgress-1];
					progressBar.css("width", `${100/15*questionProgress}%`);
					$(".page").text(`${questionProgress}/15`);

					$(".mbti-questionNo").text(`Q${questionProgress}.`);
					$(".mbti-question").text(`${q["q1"]}`);
					$(".a1").text(`${q["a1"]}`);
					$(".a2").text(`${q["a2"]}`);
					$(".a3").text(`${q["a3"]}`);	
					$(".a4").text(`${q["a4"]}`);
					
					if(questionProgress >= 3 && questionProgress < 6){
						$(".a5").css("display", "block");
						$(".a5").text(`${q["a5"]}`);
					}

					if(questionProgress >= 6){
						$(".mbti-question2").text(`${q["q2"]}`);
						$(".a3").css("display", "none");
						$(".a4").css("display", "none");
						$(".a5").css("display", "none");
					}
						
					
				}
				

				$(".mbti-answer").on("click", function() {
					let q = questions[questionProgress-1];				
					
					if (questionProgress == 1 ){ // 키
						shape_progress( );
						
					} else if (questionProgress == 2){ // 무게
						
						if ($(this).hasClass("a1")){ 
							weight = "skinny"; 
						} 
						else if ($(this).hasClass("a4")){ 
							weight = "fat"; 
						}
						else { 
							weight = "normal"; 
						}
						//console.log("weight : " + weight);
						shape_progress( );
						
					} else if(3 <= questionProgress && questionProgress < 6){ // 벤치 & 데드 & 스쿼트
						
						if ($(this).hasClass("a1")){ 
							muscle += q["aw1"];
							
						} else if ($(this).hasClass("a2")){ 
							muscle += q["aw2"];
							
						} else if ($(this).hasClass("a3")){
							muscle += q["aw3"];
							
						} else if ($(this).hasClass("a4")){
							muscle += q["aw4"];
							
						} else {
							muscle += q["aw5"];
						}
						
						//console.log("muscle : " + muscle);
						shape_progress( );
							  
					} else if(6 <= questionProgress && questionProgress <= 15) { // 유형 
						
						if ($(this).hasClass("a1")) 
						{
							if (q["a1_mbti"] in result) { 
								result[q["a1_mbti"]] += 1;
							} else {
								result[q["a1_mbti"]] = 1; 
							}
						} else { 
							if (q["a2_mbti"] in result) { 
								result[q["a2_mbti"]] += 1;
							} else {
								result[q["a2_mbti"]] = 1; 
							}
						}	
						//console.log(result);
						shape_progress( );						
					}
							
				});
			</script>
				

	</body>
</html>